<html>
<head>
	<title>Опции теплового насоса. Народный контроллер ТН</title>
	<meta charset="utf-8" />
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" type="text/css" href="style.css">
	<script type='text/javascript' src='scripts.js'></script>
	<script type="text/javascript">
		window.onload = function() {
		loadParam("get_optionHP(NEXT_SLEEP),get_optionHP(ADD_HEAT),get_optionHP(NEXT_DIM),get_optionHP(EEV_START),get_optionHP(EEV_LIGHT_START),get_optionHP(SD_CARD),get_presentRelay(RHEAT),get_optionHP(TEMP_RHEAT),get_optionHP(PUMP_WORK),get_optionHP(PUMP_PAUSE),get_optionHP(ATTEMPT),get_optionHP(ADD_HEAT),get_optionHP(BEEP),get_optionHP(NEXTION),get_optionHP(EEV_CLOSE),get_optionHP(TEMP_EVI),get_optionHP(TIME_CHART),get_optionHP(SAVE_ON),get_optionHP(OW2TS)");
		loadParam("get_optionHP(DELAY_ON_PUMP),get_optionHP(DELAY_OFF_PUMP),get_optionHP(DELAY_START_RES),get_optionHP(DELAY_REPEAD_START),get_optionHP(DELAY_TRV),get_optionHP(),get_optionHP(DELAY_BOILER_SW),get_optionHP(DELAY_BOILER_OFF)");
	}; 
	</script>
</head>
<body class="test">
<div id="menu" class="menu"><script src='menu.js'></script></div>
<div class="content">
	<h1>Опции теплового насоса <input type="submit" value="Записать в EEPROM"  onclick='loadParam("set_SAVE")'></h1>
	<div class="row1">
		<table>
		<thead>
		<tr>
			<th>Описание</th>
			<th>Значение</th>
		</tr>
		</thead>			
		<tbody>
		<tr>
			<td>Сохранение состояния ТН в ЕЕПРОМ, для восстановления его после сброса</td>
			<td>
				<input type="checkbox" name="get_optionhp-save_on" id="get_optionhp-save_on" onChange="setParam('get_optionHP(SAVE_ON)');" >
			</td>
		</tr>			
		<tr>
			<td>Период накопления  графиков <sup>1</sup></td>
			<td>
				<select id="get_optionhp-time_chart" onChange="setParam('get_optionHP(TIME_CHART)','get_optionhp-time_chart');"></select>
			</td>
		</tr>
		<tr>
			<td>Запись графиков на карту (файл chart_cd.csv)<sup>2</sup></td>
			<td>
				<input type="checkbox" name="get_optionhp-sd_card" id="get_optionhp-sd_card" onChange="setParam('get_optionHP(SD_CARD)');" >
			</td>
		</tr>		
		<tr>
			<td>Работа насоса конденсатора при выключенном компрессоре (минуты) [0...60] <sup>3</sup></td>
			<td>
				<input id="get_optionhp-pump_work" type="number" min="0" max="60" step="1" value="0">
				<input id="get_optionhp-pump_work2" type="submit" value=">"  onclick="setParam('get_optionHP(PUMP_WORK)');">
			</td>
		</tr>
		<tr>
			<td> Пауза между работой насоса конденсатора при выключенном компрессоре (минуты) [0...60] <sup>4</sup></td>
			<td>
				<input id="get_optionhp-pump_pause" type="number" min="0" max="60" step="1" value="0">
				<input id="get_optionhp-pump_pause2" type="submit" value=">"  onclick="setParam('get_optionHP(PUMP_PAUSE)');">
			</td>
		</tr>
		<tr>
			<td>Число повторных попыток пуска при ошибке [0...10]<sup>5</sup></td>
			<td>
				<input id="get_optionhp-attempt" type="number" min="0" max="9999" step="1" value="0">
				<input id="get_optionhp-attempt2" type="submit" value=">"  onclick="setParam('get_optionHP(ATTEMPT)');">
			</td>
		</tr>
		<tr>
			<td>Использование дополнительного ТЭНа при нагреве отопления</td>
			<td>
				<select id="get_optionhp-add_heat" onchange="setParam('get_optionHP(ADD_HEAT)','get_optionhp-add_heat');"></select>
			</td>
		</tr>
		<tr>
			<td>Температура для управления дополнительным ТЭНом [-30...30]</td>
			<td>
				<input id="get_optionhp-temp_rheat" type="number" min="-30" max="30" step="0.1" value="0">
				<input id="get_optionhp-temp_rheat2" type="submit" value=">"  onclick="setParam('get_optionHP(TEMP_RHEAT)');">
			</td>
		</tr>
		<tr>
			<td>Закрытие ЭРВ при выключении компрессора</td>
			<td>
				<input type="checkbox" name="get_optionhp-eev_close" id="get_optionhp-eev_close" onchange="setParam('get_optionHP(EEV_CLOSE)');" >
			</td>
		</tr>
		<tr>
			<td>Начинать работу ЭРВ со стартовой позиции<sup>6</sup></td>
			<td>
				<input type="checkbox" name="get_optionhp-eev_start" id="get_optionhp-eev_start" onchange="setParam('get_optionHP(EEV_START)');" >
			</td>
		</tr>
		<tr>
			<td>Использовать специальную позицию ЭРВ при пуске компрессора<sup>7</sup></td>
			<td>
				<input type="checkbox" name="get_optionhp-eev_light_start" id="get_optionhp-eev_light_start" onchange="setParam('get_optionHP(EEV_LIGHT_START)');" >
			</td>
		</tr>		
				
		<!--<tr id="get_presentrelay-rheat">
			<td>Использование дополнительного ТЭНа при нагреве</td>
			<td>
				<input type="checkbox" name="get_optionhp-add_heat" id="get_optionhp-add_heat" onchange="setParam('get_optionHP(ADD_HEAT)');" >
			</td>
		</tr>-->
		<tr>
			<td>Генерация звукового сигнала</td>
			<td>
				<input type="checkbox" name="get_optionhp-beep" id="get_optionhp-beep" onchange="setParam('get_optionHP(BEEP)');" >
			</td>
		</tr>					
		<tr>
			<td>Использование дисплея Nextion</td>
			<td>
				<input type="checkbox" name="get_optionhp-nextion" id="get_optionhp-nextion" onchange="setParam('get_optionHP(NEXTION)');" >
			</td>
		</tr>	
		<tr>
			<td>Время засыпания дисплея Nextion (минуты) [0...60] <sup>9</sup></td>
			<td>
				<input id="get_optionhp-next_sleep" type="number" min="0" max="60" step="1" value="0">
				<input id="get_optionhp-next_sleep2" type="submit" value=">"  onclick="setParam('get_optionHP(NEXT_SLEEP)');">
			</td>
		</tr>
		<tr>
			<td>Яркость дисплея Nextion в % [5...100]</td>
			<td>
				<input id="get_optionhp-next_dim" type="number" min="5" max="100" step="1" value="100">
				<input id="get_optionhp-next_dim2" type="submit" value=">"  onclick="setParam('get_optionHP(NEXT_DIM)');">
			</td>
		</tr>
		<tr>
			<td>На второй шине 1-Wire только один датчик температуры</td>
			<td>
				<input type="checkbox" id="get_optionhp-ow2ts" onchange="setParam('get_optionHP(OW2TS)');" >
			</td>
		</tr>	

		<tr>
			<td>Задержка включения компрессора после включения насосов (сек).</td>
			<td>
				<input type="number" id="get_optionhp-delay_on_pump"> <input type="submit" value=">" onclick="setParam('get_optionHP(DELAY_ON_PUMP)');" >
			</td>
		</tr>	
		<tr>
			<td>Задержка выключения насосов после выключения компрессора (сек).</td>
			<td>
				<input type="number" id="get_optionhp-delay_off_pump"> <input type="submit" value=">" onclick="setParam('get_optionHP(DELAY_OFF_PUMP)');" >
			</td>
		</tr>	
		<tr>
			<td>Задержка включения ТН после внезапного сброса контроллера (сек.)</td>
			<td>
				<input type="number" id="get_optionhp-delay_start_res"> <input type="submit" value=">" onclick="setParam('get_optionHP(DELAY_START_RES)');" >
			</td>
		</tr>	
		<tr>
			<td>Задержка перед повторным включениме ТН при ошибке (попытки пуска) (сек.)</td>
			<td>
				<input type="number" id="get_optionhp-delay_repead_start"> <input type="submit" value=">" onclick="setParam('get_optionHP(DELAY_REPEAD_START)');" >
			</td>
		</tr>	
		<tr>
			<td>Задержка между переключением реверсивного клапана и включением компрессора (сек.)</td>
			<td>
				<input type="number" id="get_optionhp-delay_trv"> <input type="submit" value=">" onclick="setParam('get_optionHP(DELAY_TRV)');" >
			</td>
		</tr>	
		<tr>
			<td>Пауза после переключение ГВС (сек.)</td>
			<td>
				<input type="number" id="get_optionhp-delay_boiler_sw"> <input type="submit" value=">" onclick="setParam('get_optionHP(DELAY_BOILER_SW)');" >
			</td>
		</tr>	
		<tr>
			<td>Время на сколько блокируются защиты при переходе с ГВС на отопление (сек.)</td>
			<td>
				<input type="number" id="get_optionhp-delay_boiler_off"> <input type="submit" value=">" onclick="setParam('get_optionHP(DELAY_BOILER_OFF)');" >
			</td>
		</tr>	

	</tbody>
	</table>
	<p>1. При изменении периода графики обнуляются.</p>
	<p>2. Использование этой опции может привести к повреждению фаловой системы карты</p>
	<p>3. 0-насос вообще не работает</p>
	<p>4. 0-насос работает непрерывно</p>
	<p>5. 0 - Повторный пуск при ошибке не производится</p>
	<p>6. Eсли флаг не установлен, то при старте компрессора выставлять ЭРВ на позицию которая была при выключении</p>
	<p>7. Если включена эта опция то перед стартом компрессора ЭРВ открывается на  EEV_PSTART шагов и через DELAY_START_POS секунд уходит на стартовую позицию (в зависимости от настроек). В первую очередь эта опция актуальна для инверторов</p>
	<p>8. При совпадении часа начала и конца "дневного" тарифа  учет времени блокируется, и при работе берется значение  "ночного" тарифа (см. страницы Отопление и ГВС)</p> 
	<p>9. 0 - Дисплей Nextion не выключается</p> 
	<br>
	<input type="submit" value="Сброс настроек HP" onclick='if(document.getElementById("reset_code").value=="RESET") loadParam("RESET_SETTINGS");'> Введите RESET: <input id="reset_code" size="7">
</div>	
</div>
</body>
</html>
