<html>
<head>
	<title>Конфигурация #1. Народный контроллер ТН</title>
	<meta charset="utf-8" />
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" type="text/css" href="style.css">
	<script type='text/javascript' src='scripts.js'></script>
	<script type="text/javascript">
	urlupdate = 2000;
	window.onload = function() {
		loadParam("get_OneWirePin,get_noteTemp(TEVAING),get_noteTemp(TEVAOUTG),get_noteTemp(TCONING),get_noteTemp(TCONOUTG),get_noteTemp(TOUT),get_noteTemp(TIN),get_noteTemp(TEVAIN),get_noteTemp(TEVAOUT),get_noteTemp(TCONIN),get_noteTemp(TCONOUT),get_noteTemp(TBOILER),get_noteTemp(TACCUM),get_noteTemp(TRTOOUT),get_noteTemp(TCOMP),get_presentTemp(TEVAING),get_presentTemp(TEVAOUTG),get_presentTemp(TCONING),get_presentTemp(TCONOUTG),get_presentTemp(TOUT),get_presentTemp(TIN),get_presentTemp(TEVAIN),get_presentTemp(TEVAOUT),get_presentTemp(TCONIN),get_presentTemp(TCONOUT),get_presentTemp(TBOILER),get_presentTemp(TACCUM),get_presentTemp(TRTOOUT),get_presentTemp(TCOMP)");
		loadParam("get_addressTemp(TEVAING),get_addressTemp(TEVAOUTG),get_addressTemp(TCONING),get_addressTemp(TCONOUTG),get_addressTemp(TOUT),get_addressTemp(TIN),get_addressTemp(TEVAIN),get_addressTemp(TEVAOUT),get_addressTemp(TCONIN),get_addressTemp(TCONOUT),get_addressTemp(TBOILER),get_addressTemp(TACCUM),get_addressTemp(TRTOOUT),get_addressTemp(TCOMP),get_errcodeTemp(TEVAING),get_errcodeTemp(TEVAOUTG),get_errcodeTemp(TCONING),get_errcodeTemp(TCONOUTG),get_errcodeTemp(TOUT),get_errcodeTemp(TIN),get_errcodeTemp(TEVAIN),get_errcodeTemp(TEVAOUT),get_errcodeTemp(TCONIN),get_errcodeTemp(TCONOUT),get_errcodeTemp(TBOILER),get_errcodeTemp(TACCUM),get_errcodeTemp(TRTOOUT),get_errcodeTemp(TCOMP)");
		updateParam("get_rawTemp(TEVAING),get_rawTemp(TEVAOUTG),get_rawTemp(TCONING),get_rawTemp(TCONOUTG),get_rawTemp(TIN),get_rawTemp(TOUT),get_rawTemp(TEVAIN),get_rawTemp(TEVAOUT),get_rawTemp(TCONIN),get_rawTemp(TCONOUT),get_rawTemp(TBOILER),get_rawTemp(TACCUM),get_rawTemp(TRTOOUT),get_rawTemp(TCOMP)");
	};
	function ScanOneWire() {
		var surltimeout = urltimeout;
		urltimeout = 9000;
		loadParam("scan_OneWire", true);
		urltimeout = surltimeout;
	} 
	</script>
</head>
<body class="setsensors">
<div id="menu" class="menu"><script src="menu.js"></script></div>
<div class="content">
	<h1>Привязка датчиков  <input type="submit" value="Записать в EEPROM"  onclick='loadParam("set_SAVE")'></h1>
	<div class="row1" id="temps">
		<h2>Сканирование шины OneWire [ pin <span id="get_onewirepin"></span> ] <button id="scan" onclick='ScanOneWire();'>Scan</button></h2>
		<p>Сканирование датчиков производится при выключенном тепловом насосе! Максимальное время сканирования 9 секунд. </p>
		<table>
		<thead>
		<tr>
			<th>Номер</th>
			<th>Тип датчика</th>
			<th>Температура</th>
			<th>Адрес</th>
			<th>Шина</th>
		</tr>
		</thead>
		<tbody id="scan_onewire">
		<tr>
		</tr>
		</tbody>
		</table>
	</div>
	<div class="row1" id="temps">
		<h2>Датчики системы</h2>
		<table id="scan_table">
		<thead>
		<tr>
			<th>Имя</th>
			<th>Описание</th>
			<th>Температура</th>
			<th>Адрес</th>
			<th>Привязка</th>
			<th>Код ошибки</th>
		</tr>
		</thead>
		<tbody>
		<tr id="get_presenttemp-tout">
			<td>TOUT</td>
			<td id="get_notetemp-tout"></td>
			<td id="get_rawtemp-tout">-</td>
			<td id="get_addresstemp-tout">-</td>
			<td><select id="set_addresstemp-tout" onchange="setParam('set_addressTemp(TOUT)','get_addresstemp-tout');"></select></td>
			<td id="get_errcodetemp-tout">-</td>
		</tr>
		<tr id="get_presenttemp-tin">
			<td>TIN</td>
			<td id="get_notetemp-tin"></td>
			<td id="get_rawtemp-tin">-</td>
			<td id="get_addresstemp-tin">-</td>
			<td><select id="set_addresstemp-tin" onchange="setParam('set_addressTemp(TIN)','get_addresstemp-tin');"></select></td>
			<td id="get_errcodetemp-tin">-</td>
		</tr>
		<tr id="get_presenttemp-tboiler">
			<td>TBOILER</td>
			<td id="get_notetemp-tboiler"></td>
			<td id="get_rawtemp-tboiler">-</td>
			<td id="get_addresstemp-tboiler">-</td>
			<td><select id="set_addresstemp-tboiler" onchange="setParam('set_addressTemp(TBOILER)','get_addresstemp-tboiler');"></select></td>
			<td id="get_errcodetemp-tboiler">-</td>
		</tr>	
		<tr id="get_presenttemp-tcomp">
			<td>TCOMP</td>
			<td id="get_notetemp-tcomp"></td>
			<td id="get_rawtemp-tcomp">-</td>
			<td id="get_addresstemp-tcomp">-</td>
			<td><select id="set_addresstemp-tcomp" onchange="setParam('set_addressTemp(TCOMP)','get_addresstemp-tcomp');"></select></td>
			<td id="get_errcodetemp-tcomp">-</td>
		</tr>
		<tr id="get_presenttemp-tevaing">
			<td>TEVAING</td>
			<td id="get_notetemp-tevaing"></td>
			<td id="get_rawtemp-tevaing">-</td>
			<td id="get_addresstemp-tevaing">-</td>
			<td><select id="set_addresstemp-tevaing" onchange="setParam('set_addressTemp(TEVAING)','get_addresstemp-tevaing');"></select></td>
			<td id="get_errcodetemp-tevaing">-</td>
		</tr>
		<tr id="get_presenttemp-tevaoutg">
			<td>TEVAOUTG</td>
			<td id="get_notetemp-tevaoutg"></td>
			<td id="get_rawtemp-tevaoutg">-</td>
			<td id="get_addresstemp-tevaoutg">-</td>
			<td><select id="set_addresstemp-tevaoutg" onchange="setParam('set_addressTemp(TEVAOUTG)','get_addresstemp-tevaoutg');"></select></td>
			<td id="get_errcodetemp-tevaoutg">-</td>
		</tr>
		<tr id="get_presenttemp-tconing">
			<td>TCONING</td>
			<td id="get_notetemp-tconing"></td>
			<td id="get_rawtemp-tconing">-</td>
			<td id="get_addresstemp-tconing">-</td>
			<td><select id="set_addresstemp-tconing" onchange="setParam('set_addressTemp(TCONING)','get_addresstemp-tconing');"></select></td>
			<td id="get_errcodetemp-tconing">-</td>
		</tr>
		<tr id="get_presenttemp-tconoutg">
			<td>TCONOUTG</td>
			<td id="get_notetemp-tconoutg"></td>
			<td id="get_rawtemp-tconoutg">-</td>
			<td id="get_addresstemp-tconoutg">-</td>
			<td><select id="set_addresstemp-tconoutg" onchange="setParam('set_addressTemp(TCONOUTG)','get_addresstemp-tconoutg');"></select></td>
			<td id="get_errcodetemp-tconoutg">-</td>
		</tr>										
		<tr id="get_presenttemp-tevain">
			<td>TEVAIN</td>
			<td id="get_notetemp-tevain"></td>
			<td id="get_rawtemp-tevain">-</td>
			<td id="get_addresstemp-tevain">-</td>
			<td><select id="set_addresstemp-tevain" onchange="setParam('set_addressTemp(TEVAIN)','get_addresstemp-tevain');"></select></td>
			<td id="get_errcodetemp-tevain">-</td>
		</tr>
		<tr id="get_presenttemp-tevaout">
			<td>TEVAOUT</td>
			<td id="get_notetemp-tevaout"></td>
			<td id="get_rawtemp-tevaout">-</td>
			<td id="get_addresstemp-tevaout">-</td>
			<td><select id="set_addresstemp-tevaout" onchange="setParam('set_addressTemp(TEVAOUT)','get_addresstemp-tevaout');"></select></td>
			<td id="get_errcodetemp-tevaout">-</td>
		</tr>
		<tr id="get_presenttemp-tconin">
			<td>TCONIN</td>
			<td id="get_notetemp-tconin"></td>
			<td id="get_rawtemp-tconin">-</td>
			<td id="get_addresstemp-tconin">-</td>
			<td><select id="set_addresstemp-tconin" onchange="setParam('set_addressTemp(TCONIN)','get_addresstemp-tconin');"></select></td>
			<td id="get_errcodetemp-tconin">-</td>
		</tr>
		<tr id="get_presenttemp-tconout">
			<td>TCONOUT</td>
			<td id="get_notetemp-tconout"></td>
			<td id="get_rawtemp-tconout">-</td>
			<td id="get_addresstemp-tconout">-</td>
			<td><select id="set_addresstemp-tconout" onchange="setParam('set_addressTemp(TCONOUT)','get_addresstemp-tconout');"></select></td>
			<td id="get_errcodetemp-tconout">-</td>
		</tr>		
		<tr id="get_presenttemp-taccum">
			<td>TACCUM</td>
			<td id="get_notetemp-taccum"></td>
			<td id="get_rawtemp-taccum">-</td>
			<td id="get_addresstemp-taccum">-</td>
			<td><select id="set_addresstemp-taccum" onchange="setParam('set_addressTemp(TACCUM)','get_addresstemp-taccum');"></select></td>
			<td id="get_errcodetemp-taccum">-</td>
		</tr>	
		<tr id="get_presenttemp-trtoout">
			<td>TRTOOUT</td>
			<td id="get_notetemp-trtoout"></td>
			<td id="get_rawtemp-trtoout">-</td>
			<td id="get_addresstemp-trtoout">-</td>
			<td><select id="set_addresstemp-trtoout" onchange="setParam('set_addressTemp(TRTOOUT)','get_addresstemp-trtoout');"></select></td>
			<td id="get_errcodetemp-trtoout">-</td>
		</tr>	
	</tbody>
	</table>
					
	</div>

</div>
</body>
</html>
