<html>
<head>
	<title>Конфигурация #1. Народный контроллер ТН</title>
	<meta charset="utf-8" />
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" type="text/css" href="style.css">
	<script type='text/javascript' src='scripts.js'></script>
	<script type="text/javascript">
	urlupdate = 2000;
	window.onload = function() {
		loadParam("get_OneWirePin,get_noteTemp(TEVAING),get_noteTemp(TEVAOUTG),get_noteTemp(TCONING),get_noteTemp(TCONOUTG),get_noteTemp(TOUT),get_noteTemp(TIN),get_noteTemp(TEVAIN),get_noteTemp(TEVAOUT),get_noteTemp(TCONIN),get_noteTemp(TCONOUT),get_noteTemp(TBOILER),get_noteTemp(TACCUM),get_noteTemp(TRTOOUT),get_noteTemp(TCOMP),get_pTemp(TEVAING),get_pTemp(TEVAOUTG),get_pTemp(TCONING),get_pTemp(TCONOUTG),get_pTemp(TOUT),get_pTemp(TIN),get_pTemp(TEVAIN),get_pTemp(TEVAOUT),get_pTemp(TCONIN),get_pTemp(TCONOUT),get_pTemp(TBOILER),get_pTemp(TACCUM),get_pTemp(TRTOOUT),get_pTemp(TCOMP)");
		loadParam("get_aTemp(TEVAING),get_aTemp(TEVAOUTG),get_aTemp(TCONING),get_aTemp(TCONOUTG),get_aTemp(TOUT),get_aTemp(TIN),get_aTemp(TEVAIN),get_aTemp(TEVAOUT),get_aTemp(TCONIN),get_aTemp(TCONOUT),get_aTemp(TBOILER),get_aTemp(TACCUM),get_aTemp(TRTOOUT),get_aTemp(TCOMP),get_eTemp(TEVAING),get_eTemp(TEVAOUTG),get_eTemp(TCONING),get_eTemp(TCONOUTG),get_eTemp(TOUT),get_eTemp(TIN),get_eTemp(TEVAIN),get_eTemp(TEVAOUT),get_eTemp(TCONIN),get_eTemp(TCONOUT),get_eTemp(TBOILER),get_eTemp(TACCUM),get_eTemp(TRTOOUT),get_eTemp(TCOMP)");
		loadParam("get_fTemp1(TOUT),get_fTemp1(TEVAOUTG),get_fTemp1(TCONING),get_fTemp1(TCONOUTG),get_fTemp1(TIN),get_fTemp1(TEVAOUT),get_fTemp1(TCONOUT),get_fTemp1(TBOILER),get_fTemp1(TCOMP),get_fTemp1(TEVAING),get_fTemp1(TEVAOUTG),get_fTemp1(TCONING),get_fTemp1(TCONOUTG),get_fTemp1(TEVAIN)");
		loadParam("get_fTemp2(TOUT),get_fTemp2(TEVAOUTG),get_fTemp2(TCONING),get_fTemp2(TCONOUTG),get_fTemp2(TIN),get_fTemp2(TEVAOUT),get_fTemp2(TCONOUT),get_fTemp2(TBOILER),get_fTemp2(TCOMP),get_fTemp2(TEVAING),get_fTemp2(TEVAOUTG),get_fTemp2(TCONING),get_fTemp2(TCONOUTG),get_fTemp2(TEVAIN)");
		loadParam("get_fTemp3(TOUT),get_fTemp3(TIN),get_fTemp3(TBOILER)");
		updateParam("get_rawTemp(TEVAING),get_rawTemp(TEVAOUTG),get_rawTemp(TCONING),get_rawTemp(TCONOUTG),get_rawTemp(TIN),get_rawTemp(TOUT),get_rawTemp(TEVAIN),get_rawTemp(TEVAOUT),get_rawTemp(TCONIN),get_rawTemp(TCONOUT),get_rawTemp(TBOILER),get_rawTemp(TACCUM),get_rawTemp(TRTOOUT),get_rawTemp(TCOMP)");
	};
	function ScanOneWire() {
		var surltimeout = urltimeout;
		urltimeout = 5000;
		loadParam("scan_OneWire", true);
		urltimeout = surltimeout;
	} 
	</script>
</head>
<body class="setsensors">
<div id="menu" class="menu"><script src="menu.js"></script></div>
<div class="content">
	<h1>Привязка датчиков  <input type="submit" value="Записать в EEPROM"  onclick='loadParam("set_SAVE")'></h1>
	<div class="row1" id="temps">
		<h2>Сканирование шины OneWire [ pin <span id="get_onewirepin"></span> ] <button id="scan" onclick='ScanOneWire();'>Scan</button></h2>
		<p>Сканирование датчиков производится при выключенном тепловом насосе! Максимальное время сканирования 9 секунд. </p>
		<table>
		<thead>
		<tr>
			<th>Номер</th>
			<th>Тип датчика</th>
			<th>Температура</th>
			<th>Адрес</th>
			<th>Шина</th>
		</tr>
		</thead>
		<tbody id="scan_onewire">
		<tr>
		</tr>
		</tbody>
		</table>
	</div>
	<div class="row1" id="temps">
		<h2>Датчики системы</h2>
		<table id="scan_table">
		<thead>
		<tr>
			<th>Имя</th>
			<th>Описание</th>
			<th>Температура</th>
			<th>Адрес</th>
			<th>Привязка</th>
			<th width="10%">Ошибки: игнор/<s>лог</s>/<s>crc</s></th>
			<th>Код ошибки</th>
		</tr>
		</thead>
		<tbody>
		<tr id="get_ptemp-tout">
			<td>TOUT</td>
			<td id="get_notetemp-tout"></td>
			<td id="get_rawtemp-tout">-</td>
			<td id="get_atemp-tout">-</td>
			<td><select id="set_atemp-tout" onchange="setParam('set_aTemp(TOUT)','get_atemp-tout');"></select></td>
			<td><input type="checkbox" id="get_ftemp1-tout" onchange="setParam('get_fTemp1(TOUT)');"><input type="checkbox" id="get_ftemp2-tout" onchange="setParam('get_fTemp2(TOUT)');"><input type="checkbox" id="get_ftemp3-tout" onchange="setParam('get_fTemp3(TOUT)');"></td>
			<td id="get_etemp-tout">-</td>
		</tr>
		<tr id="get_ptemp-tin">
			<td>TIN</td>
			<td id="get_notetemp-tin"></td>
			<td id="get_rawtemp-tin">-</td>
			<td id="get_atemp-tin">-</td>
			<td><select id="set_atemp-tin" onchange="setParam('set_aTemp(TIN)','get_atemp-tin');"></select></td>
			<td><input type="checkbox" id="get_ftemp1-tin" onchange="setParam('get_fTemp1(TIN)');"><input type="checkbox" id="get_ftemp2-tin" onchange="setParam('get_fTemp2(TIN)');"><input type="checkbox" id="get_ftemp3-tin" onchange="setParam('get_fTemp3(TIN)');"></td>
			<td id="get_etemp-tin">-</td>
		</tr>
		<tr id="get_ptemp-tboiler">
			<td>TBOILER</td>
			<td id="get_notetemp-tboiler"></td>
			<td id="get_rawtemp-tboiler">-</td>
			<td id="get_atemp-tboiler">-</td>
			<td><select id="set_atemp-tboiler" onchange="setParam('set_aTemp(TBOILER)','get_atemp-tboiler');"></select></td>
			<td><input type="checkbox" id="get_ftemp1-tboiler" onchange="setParam('get_fTemp1(TBOILER)');"><input type="checkbox" id="get_ftemp2-tboiler" onchange="setParam('get_fTemp2(TBOILER)');"><input type="checkbox" id="get_ftemp3-tboiler" onchange="setParam('get_fTemp3(TBOILER)');"></td>
			<td id="get_etemp-tboiler">-</td>
		</tr>	
		<tr id="get_ptemp-tcomp">
			<td>TCOMP</td>
			<td id="get_notetemp-tcomp"></td>
			<td id="get_rawtemp-tcomp">-</td>
			<td id="get_atemp-tcomp">-</td>
			<td><select id="set_atemp-tcomp" onchange="setParam('set_aTemp(TCOMP)','get_atemp-tcomp');"></select></td>
			<td><input type="checkbox" id="get_ftemp1-tcomp" onchange="setParam('get_fTemp1(TCOMP)');"><input type="checkbox" id="get_ftemp2-tcomp" onchange="setParam('get_fTemp2(TCOMP)');"></td>
			<td id="get_etemp-tcomp">-</td>
		</tr>
		<tr id="get_ptemp-tevaing">
			<td>TEVAING</td>
			<td id="get_notetemp-tevaing"></td>
			<td id="get_rawtemp-tevaing">-</td>
			<td id="get_atemp-tevaing">-</td>
			<td><select id="set_atemp-tevaing" onchange="setParam('set_aTemp(TEVAING)','get_atemp-tevaing');"></select></td>
			<td><input type="checkbox" id="get_ftemp1-tevaing" onchange="setParam('get_fTemp1(TEVAING)');"><input type="checkbox" id="get_ftemp2-tevaing" onchange="setParam('get_fTemp2(TEVAING)');"></td>
			<td id="get_etemp-tevaing">-</td>
		</tr>
		<tr id="get_ptemp-tevaoutg">
			<td>TEVAOUTG</td>
			<td id="get_notetemp-tevaoutg"></td>
			<td id="get_rawtemp-tevaoutg">-</td>
			<td id="get_atemp-tevaoutg">-</td>
			<td><select id="set_atemp-tevaoutg" onchange="setParam('set_aTemp(TEVAOUTG)','get_atemp-tevaoutg');"></select></td>
			<td><input type="checkbox" id="get_ftemp1-tevaoutg" onchange="setParam('get_fTemp1(TEVAOUTG)');"><input type="checkbox" id="get_ftemp2-tevaoutg" onchange="setParam('get_fTemp2(TEVAOUTG)');"></td>
			<td id="get_etemp-tevaoutg">-</td>
		</tr>
		<tr id="get_ptemp-tconing">
			<td>TCONING</td>
			<td id="get_notetemp-tconing"></td>
			<td id="get_rawtemp-tconing">-</td>
			<td id="get_atemp-tconing">-</td>
			<td><select id="set_atemp-tconing" onchange="setParam('set_aTemp(TCONING)','get_atemp-tconing');"></select></td>
			<td><input type="checkbox" id="get_ftemp1-tconing" onchange="setParam('get_fTemp1(TCONING)');"><input type="checkbox" id="get_ftemp2-tconing" onchange="setParam('get_fTemp2(TCONING)');"></td>
			<td id="get_etemp-tconing">-</td>
		</tr>
		<tr id="get_ptemp-tconoutg">
			<td>TCONOUTG</td>
			<td id="get_notetemp-tconoutg"></td>
			<td id="get_rawtemp-tconoutg">-</td>
			<td id="get_atemp-tconoutg">-</td>
			<td><select id="set_atemp-tconoutg" onchange="setParam('set_aTemp(TCONOUTG)','get_atemp-tconoutg');"></select></td>
			<td><input type="checkbox" id="get_ftemp1-tconoutg" onchange="setParam('get_fTemp1(TCONOUTG)');"><input type="checkbox" id="get_ftemp2-tconoutg" onchange="setParam('get_fTemp2(TCONOUTG)');"></td>
			<td id="get_etemp-tconoutg">-</td>
		</tr>										
		<tr id="get_ptemp-tevain">
			<td>TEVAIN</td>
			<td id="get_notetemp-tevain"></td>
			<td id="get_rawtemp-tevain">-</td>
			<td id="get_atemp-tevain">-</td>
			<td><select id="set_atemp-tevain" onchange="setParam('set_aTemp(TEVAIN)','get_atemp-tevain');"></select></td>
			<td><input type="checkbox" id="get_ftemp1-tevain" onchange="setParam('get_fTemp1(TEVAIN)');"><input type="checkbox" id="get_ftemp2-tevain" onchange="setParam('get_fTemp2(TEVAIN)');"></td>
			<td id="get_etemp-tevain">-</td>
		</tr>
		<tr id="get_ptemp-tevaout">
			<td>TEVAOUT</td>
			<td id="get_notetemp-tevaout"></td>
			<td id="get_rawtemp-tevaout">-</td>
			<td id="get_atemp-tevaout">-</td>
			<td><select id="set_atemp-tevaout" onchange="setParam('set_aTemp(TEVAOUT)','get_atemp-tevaout');"></select></td>
			<td><input type="checkbox" id="get_ftemp1-tevaout" onchange="setParam('get_fTemp1(TEVAOUT)');"><input type="checkbox" id="get_ftemp2-tevaout" onchange="setParam('get_fTemp2(TEVAOUT)');"></td>
			<td id="get_etemp-tevaout">-</td>
		</tr>
		<tr id="get_ptemp-tconin">
			<td>TCONIN</td>
			<td id="get_notetemp-tconin"></td>
			<td id="get_rawtemp-tconin">-</td>
			<td id="get_atemp-tconin">-</td>
			<td><select id="set_atemp-tconin" onchange="setParam('set_aTemp(TCONIN)','get_atemp-tconin');"></select></td>
			<td></td>
			<td id="get_etemp-tconin">-</td>
		</tr>
		<tr id="get_ptemp-tconout">
			<td>TCONOUT</td>
			<td id="get_notetemp-tconout"></td>
			<td id="get_rawtemp-tconout">-</td>
			<td id="get_atemp-tconout">-</td>
			<td><select id="set_atemp-tconout" onchange="setParam('set_aTemp(TCONOUT)','get_atemp-tconout');"></select></td>
			<td><input type="checkbox" id="get_ftemp1-tconout" onchange="setParam('get_fTemp1(TCONOUT)');"><input type="checkbox" id="get_ftemp2-tconout" onchange="setParam('get_fTemp2(TCONOUT)');"></td>
			<td id="get_etemp-tconout">-</td>
		</tr>		
		<tr id="get_ptemp-taccum">
			<td>TACCUM</td>
			<td id="get_notetemp-taccum"></td>
			<td id="get_rawtemp-taccum">-</td>
			<td id="get_atemp-taccum">-</td>
			<td><select id="set_atemp-taccum" onchange="setParam('set_aTemp(TACCUM)','get_atemp-taccum');"></select></td>
			<td></td>
			<td id="get_etemp-taccum">-</td>
		</tr>	
		<tr id="get_ptemp-trtoout">
			<td>TRTOOUT</td>
			<td id="get_notetemp-trtoout"></td>
			<td id="get_rawtemp-trtoout">-</td>
			<td id="get_atemp-trtoout">-</td>
			<td><select id="set_atemp-trtoout" onchange="setParam('set_aTemp(TRTOOUT)','get_atemp-trtoout');"></select></td>
			<td></td>
			<td id="get_etemp-trtoout">-</td>
		</tr>	
	</tbody>
	</table>
					
	</div>

</div>
</body>
</html>
