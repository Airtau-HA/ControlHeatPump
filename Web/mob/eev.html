<!DOCTYPE HTML>

<html>
	<head>
		<title>НАРОДНЫЙ КОНТРОЛЛЕР</title>
		<meta charset="utf-8" />
		<meta http-equiv="pragma" content="no-cache">
        <meta name="viewport" content="width=device-width, initial-scale=1" />
		<meta http-equiv="Content-Style-Type" content="text/css">
        <link rel="stylesheet" type="text/css" href="assets/css/main.css">
		<!-- Scripts -->
<script type="text/javascript" src="assets/js/jquery.min.js"></script>
<script type="text/javascript" src="highcharts.js"></script>
<script type="text/javascript" src="exporting.js"></script>
<script type='text/javascript' src='scripts.js'></script>
<script type="text/javascript">
		window.onload = function() {
		loadParam("get_error,get_WORK");
		loadParam("get_optionHP(TIME_CHART),get_freonEEV,get_ruleEEV,get_paramEEV(TIME_IN),get_paramEEV(T_OWERHEAT),get_paramEEV(K_PRO),get_paramEEV(K_IN),get_paramEEV(K_DIF),get_paramEEV(M_STEP),get_paramEEV(CORRECTION),get_presentEEV,get_nameEEV,get_noteEEV,get_maxEEV,get_minEEV,get_pinEEV");
    updateParam("get_remarkEEV,get_EEV,get_overheatEEV,get_errcodeEEV");
    loadParam("get_Chart(_posEEV)");
    setParam('get_listChart','chart1');
    
   // setParam('get_listChart2','chart2')
	/*Highcharts.setOptions({
        global: {
            useUTC: false
        }
    }); */ 
    $("#autoupdate").change(function(){
    if(this.checked){
      var timerId = setInterval(function() { loadParam("get_Chart(_posEEV)"); setParam('get_listChart','chart1'); }, 10000)
      window.timerId = timerId
    }else{
      timerId = window.timerId
      clearInterval(timerId);
    }
});       
  };
	</script>

	</head>
	<body class="landing">
		<div id="page-wrapper">

			<!-- Header -->
				<header id="header">
					<h1 id="logo"><a href="index.html">КОНТРОЛЛЕР ТЕПЛОВОГО НАСОСА</a></h1>
					<nav id="nav">
				  			<script src="menu.js"></script>
					</nav>
				</header>

			<!-- Banner -->
				<section id="banner">
					<div class="content">
						<header>
							<h2>ЭЛЕКТРОННЫЙ<br>РЕГУЛИРУЮЩИЙ ВЕНТИЛЬ</h2>
							<p> <br />
							
					  </header>
                        

<div class="swich">
<h8><span id="get_work2"></span><br>
<span id="get_work3"></span></h8>
<span id="onoffswitch"></span>
<br>
</div>                                           

<div class="table-wrapper">

<h4>Состояние ЭРВ</h4></br>

<table>
    <tbody>
    <tr id="get_presenteev">
      <tr class="sensor_eev"><td>Имя</td><td id="get_nameeev"></td></tr>
      <tr class="sensor_eev"><td>Описание</td><td id="get_noteeev"></td></tr>
      <tr class="sensor_eev"><td>Максимальное число шагов</td><td id="get_maxeev"></td></tr>
      <tr class="sensor_eev"><td>Шаги для приоткрытия ЭРВ</td><td id="get_mineev"></td></tr>
      <tr class="sensor_eev"><td>Положение (шаги)</td><td id="get_eev"></td></tr>
      <tr class="sensor_eev"><td>Текущий перегрев </td><td id="get_overheateev"></td></tr>
      <tr class="sensor_eev"><td>Код ошибки</td><td id="get_errcodeeev"></td></tr>
      <tr class="sensor_eev"><td>Pins</td><td id="get_pineev"></td></tr>
    </tr>
  </tbody>
  </table>
</div> 

<div class="table-wrapper">
<h4>Определение перегрева</h4></br>
		
<table>
    <tbody>
    <tr>
      <tr class="sensor_eev"><td>Формула перегрева</td><td><select id="get_ruleeev" onChange="setParam('get_ruleEEV','get_ruleeev');"></select></td></tr>
      <tr class="sensor_e"><td>Описание</td><td id="get_remarkeev"></td></tr>
      <tr class="sensor_e"><td><input id="get_parameev-correction2" type="submit" value="Поправка °С"  onclick="setParam('get_paramEEV(CORRECTION)');"></td><td><input id="get_parameev-correction" class="buttont" type="number"  min="-5" max="5" step="0.1" value="0"></td></tr>
      <tr class="sensor_e"><td>Тип фреона</td><td><select id="get_freoneev" onChange="setParam('get_freonEEV','get_freoneev');"><option value="0">R22</option><option value="1">R410A</option><option value="2">R600</option><option value="3">R600A</option><option value="4">R134A</option><option value="5">R407C</option><option value="6">R12</option><option value="7">R290</option><option value="8">R404A</option></select></td></tr>
      <tr class="sensor_e"><td><input id="get_parameev-m_step2" type="submit" value="Открытие ЭРВ шаги"  onclick="setParam('get_paramEEV(M_STEP)');"></td><td><input id="get_parameev-m_step" class="buttont" type="number"  min="0" max="480" step="1" value="0"></td></tr>
    </tr>         
  </tbody>
  </table>
                      
</div>

<div class="table-wrapper">
<h4>Параметры ПИД ЭРВ</h4></br>
		
    <table>
    <tbody>
    <tr>
      <tr class="sensor_e"><td><input id="get_parameev-t_owerheat2" type="submit" value="Установить целевой перегрев"  onclick="setParam('get_paramEEV(T_OWERHEAT)');"></td><td><input id="get_parameev-t_owerheat" class="buttont" type="number"  min="0" max="15" step="0.1"></td></tr>
      <tr class="sensor_e"><td><input id="get_parameev-time_in2"  type="submit" value="Установить время интегрирования &#8203; [30...600] сек."  onclick="setParam('get_paramEEV(TIME_IN)');"></td><td><input id="get_parameev-time_in" class="buttont" type="number"  min="1" max="1000" step="1" value="-"></td></tr>
      <tr class="sensor_e"><td><input id="get_parameev-k_pro2"  type="submit" value="Установить пропорциональную составляющую &#8203; [0.5...20] шаг/°C"  onclick="setParam('get_paramEEV(K_PRO)');"></td><td><input id="get_parameev-k_pro" class="buttont" type="number"  min="0" max="1000" step="0.01" value="-"></td></tr>
      <tr class="sensor_e"><td><input id="get_parameev-k_in2" type="submit" value="Установить интегральную составляющую"  onclick="setParam('get_paramEEV(K_IN)');"></td><td><input id="get_parameev-k_in" class="buttont" type="number"  min="0" max="1000" step="0.1"></td></tr>
      <tr class="sensor_e"><td><input id="get_parameev-k_dif2" type="submit" value="Установить дифференциальную составляющую &#8203; [0...90] сек."  onclick="setParam('get_paramEEV(K_DIF)');"></td><td><input id="get_parameev-k_dif" class="buttont" type="number"  min="0" max="1000" step="0.1" value="-"></td></tr>
    </tr>
  </tbody>
  </table>                      
</div>

<div>Автообновление графиков: <input id="autoupdate"  type="checkbox" onClick="" >
<input type="submit" value="Обновить графики"  onclick="setParam('get_listChart','chart1');">
<select style="display:none" id="get_optionhp-time_chart" disabled></select>
<select style="display:none" id="get_listchart" onChange="setParam('get_listChart','chart1')"><option value="_OVERHEAT">_OVERHEAT</option></select>
</div>

<div id="chart1">График не выбран</div>

</div>
</div>        	
  <br>
			<!-- Footer -->
				<footer id="footer">
					<ul class="icons">
						
					</ul>
					<ul class="copyright">
						
					</ul>
				</footer>

		</div>

			
	</body>
</html>